# [0.3.0] - 2019-11-06
All notable changes for version [v0.3.0] are documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## Added
### Ability module
- Add `ProductionQueue(Ability)` object; enables game entity to queue game entity or tech production
- Add `DetectCloak(Ability)` object; enables game entity to discover cloaked units
- Add `mode : HerdableMode` member to `Herdable`; determines who gets ownership of the herdable game entity
- Add `allowed_types : set(TerrainType)` member to `TerrainRequirement`; specifies which terrain types can be walked on by a game entity
- Add `blacklisted_terrains : set(Terrain)` member to `TerrainRequirement`; exceptions for allowed terrain types
- Add `harvest_progress : set(HarvestProgress)` member to `Harvestable`; moved from `ResourceSpot`
- Add `gatherer_limit : int` member to `Harvestable`; moved from `ResourceSpot`
- Add `harvestable_by_default : bool` member to `Harvestable`; moved from `ResourceSpot`
- Add `restock_progress : set(RestockProgress)` member to `Harvestable`; moved from `RestockableResourceSpot`
- Add `hitbox : Hitbox` member to `Passable`; references hitbox that is passable
- Add `mode : PassableMode` member to `Passable`; determines special passability
- Add `activation_condition : set(Clause)` member to `Despawn`; activates the ability
- Add `selection_box : SelectionBox` member to `Selectable`; determines at which relative coordinates the game entity can be selected
- Add `transform_pool : TransformPool` member to `Transform`; `Transform` now defines an explicit state machine that can have one state at a time; states are change with `ActiveTransformTo` or `PassiveTransformTo`

### Auxiliary module
- Add `HerdableMode(Entity)` object; determines who gets ownership of the herdable game entity
- Add `ClosestHerding(HerdableMode)` object;
- Add `LongestTimeInRange(HerdableMode)` object;
- Add `MostHerding(HerdableMode)` object;
- Add `Shadow(PaymentMode)` object; requires resources to be available but does not subtract them from payment resources
- Add `TerrainType(Entity)` object; can specify type of a terrain
- Add `CalculationType(Entity)` object; used for `StackedResistance`
- Add `NoStack(CalculationType)` object
- Add `Linear(CalculationType)` object
- Add `Hyperbolic(CalculationType)` object
- Add `DistributionType(Entity)` object; used for `StackedResistance`
- Add `Mean(DistributionType)` object
- Add `OwnStorage(PlacementMode)` object; allows created game entities to be store directly into container of creating game entity
- Add `ProductionMode(Entity)` object; used by `ProductionQueue` ability
- Add `Creatables(ProductionMode)` object
- Add `Researchables(ProductionMode)` object
- Add `Hitbox(Entity)` object; stores size arguments for `Hitbox(Ability)`
- Add `PassableMode(Entity)` object; determines special passable modes
- Add `Normal(PassableMode)` object
- Add `Gate(PassableMode)` object; hitbox is always passable to everyone with correct stance and passable with any other stance when any other unit is passing through
- Add `RequirementMode(Entity)` object; specifies how many literals of a clause have to be true
- Add `Any(RequirementMode)` object
- Add `All(RequirementMode)` object
- Add `Subset(RequirementMode)` object
- Add `LiteralScope(Entity)` object; specifies where the literal has to be fulfilled
- Add `Self(LiteralScope)` object
- Add `Any(LiteralScope)` object
- Add `SelectionBox(Entity)` object; used by `Selectable` ability
- Add `MatchToSprite(SelectionBox)` object
- Add `Rectangle(SelectionBox)` object
- Add `TransformPool(Entity)` object; defines one explicit state machine that can have one state at a time
- Add `priority : int` member to `Mod` object; determines load order when multiple `Mod` objects are present
- Add `types: set(TerrainType)` member to `Terrain`; can specify type of a terrain
- Add `snap_to_tiles : bool` member to `Place(PlacementMode)`; lets placed game entities snap to the tile grid
- Add `clause_requirement : RequirementMode` member to `Clause(Entity)`; specifies how many literals have to be true
- Add `only_once : bool` member to `Clause(Entity)`; clause can be fulfilled once
- Add `scope : LiteralScope` member to `Literal(Entity)`; specifies where the literal has to be fulfilled

### Modifier module
- Add `StackedModifier` object; allows defining how often a modifier is applied

### Resistance module
- Add `StackedResistance` object; allows adjustment to effect calculation when multiple effectors are present

## Changed
### Ability module
- Rename `Damageable` object to `AttributeChangeTracker`
- Rename `Die` object to `PassiveTransformTo`
- Rename `TransformTo` object to `ActiveTransformTo`
- Rename `damage_progress` member of `AttributeChangeTracker` to `change_progress`
- Rename `death_conditions` member of `PassiveTransformTo` to `condition` and set its type to `set(Clause)`
- Rename `despawn_conditions` member of `Despawn` to `despawn_condition` and set its type to `set(Clause)`

### Auxiliary module
- Change type of `placement_modes` member in `CreatableGameEntity` from `PlacementMode` to `set(PlacementMode)`
- Change type of `object` member in `TerrainAmbient` from `Ambient` to `GameEntity`
- Change parent of `AttributeInterval` from `DeathCondition` to `Literal`
- Change parent of `ProjectilePassThrough` from `DeathCondition` to `Literal`
- Change parent of `ProjectileHitTerrain` from `DeathCondition` to `Literal`
- Change parent of `ResourceDepleted` from `DespawnCondition` to `Literal`
- Change parent of `Timer` from `DespawnCondition` to `Literal`
- Rename `DamageProgress` object to `AttributeChangeProgress`
- Rename `AvailabilityRequirement` object to `Clause`
- Rename `Prerequisite` object to `Literal`
- Rename `placement_mode` member of `CreatableGameEntity` to `placement_modes`
- Rename `capacity` member of `ResourceSpot` to `max_amount`
- Rename `requirements` member of `ResearchableTech` to `condition` and set its type to `set(Clause)`
- Rename `requirements` member of `CreatableGameEntity` to `condition` and set its type to `set(Clause)`
- Rename `prerequisites` member of `Clause` to `literals` and set its type to `set(Literal)`

### Modifier module
- Rename `requirements` member of `InstantTechResearch` to `condition` and set its type to `set(Clause)`

### Effect module
- Rename `TimeRelativeProgress` object to `TimeRelativeProgressChange`

### Resistance module
- Rename `TimeRelativeProgress` object to `TimeRelativeProgressChange`

## Removed
### Ability module
- Remove `TileRequirement` object; now handled by `Hitbox`
- Remove `Gate` object; now handled by `Passable`
- Remove `terrain_requirement` member from `TerrainRequirement`; superceded by `allowed_types` and `blacklisted_terrains` members
- Remove `radius_x` member from `Hitbox`; moved to referenced object
- Remove `radius_y` member from `Hitbox`; moved to referenced object
- Remove `radius_z` member from `Hitbox`; moved to referenced object

### Auxiliary module
- Remove `RestockableResourceSpot` object; restockable now possible for every resource spot
- Remove `DeathCondition` object; functionality merged with `Clause` and `Literal`
- Remove `DespawnCondition` object; functionality merged with `Clause` and `Liter
- Remove `MultiPartBuilding` object; now fully replaced by generic `GameEntity`
- Remove `BuildingPart` object; now fully replaced by generic `GameEntity`
- Remove `Ambient` object; now fully replaced by generic `GameEntity`
- Remove `Building` object; now fully replaced by generic `GameEntity`
- Remove `Item` object; now fully replaced by generic `GameEntity`
- Remove `Projectile` object; now fully replaced by generic `GameEntity`
- Remove `Unit` object; now fully replaced by generic `GameEntity`
- Remove `allowed_types` member from `Terrain`; now handled by `TerrainRequirement` ability
- Remove `blacklisted_game_entities` member from `Terrain`; now handled by `TerrainRequirement` ability
- Remove `harvest_progress` member from `ResourceSpot`; now handled by `Harvestable` ability
- Remove `gatherer_limit` member from `ResourceSpot`; now handled by `Harvestable` ability
- Remove `harvestable_by_default` member from `ResourceSpot`; now handled by `Harvestable` ability

## Reference visualization

TBD
